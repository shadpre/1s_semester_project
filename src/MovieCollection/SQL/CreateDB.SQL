
DROP TABLE IF EXISTS CatMovie
DROP TABLE IF EXISTS Movie
DROP TABLE IF EXISTS Category

CREATE TABLE Category
(
Id INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
Name NVARCHAR(255) NOT NULL)

CREATE TABLE Movie(
Id INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
Name NVARCHAR(255) NOT NULL,
ImdbRating FLOAT NOT NULL DEFAULT -1,
PersonalRating FLOAT NOT NULL DEFAULT -1,
Filelink NVARCHAR(255) NOT NULL DEFAULT '',
LastView DATETIME NOT NULL DEFAULT '1900-01-01')

CREATE TABLE CatMovie(
Id INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
CategoryId INT FOREIGN KEY REFERENCES Category(Id),
MovieId INT FOREIGN KEY REFERENCES Movie(Id))

